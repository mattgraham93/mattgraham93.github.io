summary(cps_full)
cps_mod <- lm(LOG_INCTOT ~ RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black
, data = cps)
summary(cps_mod)
plot_model(cps_mod, type="pred", terms = c("RACE", "SEX"))
cps_mod_w_time <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black
, data = cps)
summary(cps_mod_w_time)
cps_mod_comp <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX) + (AGE * SEX) + (YEAR * AGE * SEX)
, data = cps)
summary(cps_mod_comp)
cps_mod_final <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = cps)
summary(cps_mod_final)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without interaction", "With interaction"),
column.separate = c(1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time", "Reduced with Time and interaction"),
column.separate = c(1, 1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
vif(cps_mod_final, type = 'predictor' )
coeftest(cps_mod_final)
anova(cps_mod_final)
bptest(cps_mod_final, ~ fitted(cps_mod_final) + I(fitted(cps_mod_final)^2) )
u <- resid(cps_mod_final)
logu2 <- log(u^2)
varreg<-lm(logu2 ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data=cps)
summary(varreg)
w <- 1/exp(fitted(varreg))
fgls <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = cps, weight=w)
summary(fgls)
stargazer(varreg, fgls, type="text")
u <- resid(cps_mod_final)
logu2 <- log(u^2)
varreg<-lm(logu2 ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data=cps)
# summary(varreg)
w <- 1/exp(fitted(varreg))
fgls <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = cps, weight=w)
# summary(fgls)
stargazer(varreg, fgls, type="text")
tsdata <- ts(cps, start = 2000)
res <- dynlm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = tsdata)
tsdata <- ts(cps, start = 2000)
res <- dynlm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = tsdata)
tsdata <- ts(cps, start = 2000)
res <- dynlm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = tsdata)
# summary(res)
res_trend <- dynlm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX) +
trend(tsdata), data = tsdata)
# summary(res_trend)
stargazer(res,res_trend, type="text")
linearHypothesis(res, matchCoefs(res, c("SEX"))
linearHypothesis(res, matchCoefs(res, c("SEX","RACE", "YEAR")))
linearHypothesis(res, matchCoefs(res, c("SEX","RACE")))
b <- coef(res)
b["SEX"] + b["RACE"] + b["`RACE_LABEL_American Indian/Aleut/Eskimo`"] + b["`RACE_LABEL_Asian only`"] +
+ b["`RACE_LABEL_Asian or Pacific Islander`"] + b["RACE_LABEL_Black"] + b["`RACE_LABEL_Black-Mixed`"] + b["YEAR:RACE"] +
b["YEAR:AGE"] + b["YEAR:SEX"]
plot_model(cps_mod, type="pred", terms = c("AGE", "SEX"))
plot_model(cps_mod, type="pred", terms = c("AGE", "RACE"))
cps_mod_int_r <- lm(LOG_INCTOT ~ YEAR * RACE * AGE * SEX * RACE_HL, data = cps)
summary(cps_mod_int_r)
plot_model(cps_mod_int_r, type="pred", terms = c("SEX", "RACE", "AGE"))
plot_model(cps_mod_int_r, type="pred", terms = c("SEX", "RACE", "AGE"))
plot_model(cps_mod_int_r, type="pred", terms = c("SEX", "RACE", "AGE"))
plot_model(cps_mod_int_r, terms = c("SEX", "RACE", "AGE"))
plot_model(cps_mod_int_r, type="pred", terms = c("SEX", "RACE", "AGE"))
cps_mod_int_r <- lm(LOG_INCTOT ~ RACE * AGE * SEX, data = cps)
summary(cps_mod_int_r)
plot_model(cps_mod_int_r, type="pred", terms = c("SEX", "RACE", "AGE"))
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time", "Reduced with Time and interaction"),
column.separate = c(1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time", "Reduced with Time and interaction"),
column.separate = c(1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time"),
column.separate = c(1, 1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time"),
column.separate = c(1, 1, 2),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time"),
column.separate = c(1, 1, 3),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time", "Reduced with Time and interaction"),
column.separate = c(1, 1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
library(readxl)
library(strucchange) # for chow test
library(quantreg) # for LAD regression (rq)
library(stargazer)
library(L1pack) # more LAD regression (lad)
library(plyr)
library(reshape2)
library(ggplot2)
library(ggrepel) # https://www.statology.org/label-scatterplot-points-r/
library(car)
library(sandwich)
library(tinytex)
library(rjson)
library(censusapi)
library(dplyr)
library(devtools)
library(blsAPI)
library(car)
library(dynlm)
library(lmtest)
library(jtools)
library(sjPlot) # https://cran.r-project.org/web/packages/sjPlot/vignettes/plot_interactions.html
library(sjmisc) # https://cran.r-project.org/web/packages/sjPlot/vignettes/plot_interactions.html
library(fastDummies)
library(corrplot)
library(RColorBrewer)
library(ggstatsplot)
library (BSDA)
cps <- read.csv("cps_00002.csv")
cps <- subset(cps, INCTOT >= 12000 & INCTOT <= 500000)
cps$SEX<- mapvalues(cps$SEX, from = c(1, 2), to = c(0, 1))
cps$LOG_INCTOT <- log(cps$INCTOT)
cps <- cps %>% select(c('YEAR', 'AGE':'RACE', 'INCTOT':'LOG_INCTOT'))
head(cps)
M <- cor(cps)
corrplot(M, type="upper", order="hclust",
col=brewer.pal(n=8, name="RdYlBu"))
cps.race.codes <- read_excel("cps_race_codes.xlsx")
head(cps.race.codes)
cps <- merge(x = cps, y = cps.race.codes, by = "RACE")
cps$RACE_HL <- ifelse(cps$RACE_LABEL=="White", "White", "Non-white")
cps$SEX_LABEL <- ifelse(cps$SEX == 1, "Woman", "Man")
head(cps)
summary(cps)
hist(cps$LOG_INCTOT)
ggplot(data = cps) +
geom_histogram(aes(x=LOG_INCTOT), bins = 4) +
facet_wrap(~ RACE_HL)
ggplot(data = cps) +
geom_histogram(aes(x=LOG_INCTOT), bins = 4) +
facet_wrap(~ SEX_LABEL)
boxplot(cps$LOG_INCTOT)
iqr <- IQR(cps$LOG_INCTOT)
Q <- quantile(cps$LOG_INCTOT, probs = c(.25, .75), na.rm = FALSE)
up <- Q[2] + (1.5*iqr)
low <- Q[1] - (1.5 * iqr)
outliers_rm <- subset(cps, cps$LOG_INCTOT > low & cps$LOG_INCTOT < up )
head(outliers_rm)
iqr <- IQR(cps$AGE)
Q <- quantile(outliers_rm$AGE, probs = c(.25, .75), na.rm = FALSE)
up <- Q[2] + (1.5*iqr)
low <- Q[1] - (1.5 * iqr)
print(low)
print(up)
outliers_rm <- subset(outliers_rm, outliers_rm$AGE > low & outliers_rm$AGE < up )
head(outliers_rm)
outliers_rm %>%
group_by(RACE_HL) %>%
summarize(min_inctot = exp(min(LOG_INCTOT)), max_inctot = exp(max(LOG_INCTOT)), med_inctot = exp(median(LOG_INCTOT)),
mean_inctot = exp(mean(LOG_INCTOT)),  var_inctot = exp(var(LOG_INCTOT))
)
w_df <- subset(outliers_rm, RACE_HL == "White")
ggplot(data = w_df) +
geom_histogram(aes(x=LOG_INCTOT), bins = 4) +
facet_wrap(~ SEX_LABEL)
nw_df <- subset(outliers_rm, RACE_HL == "Non-white")
ggplot(data = nw_df) +
geom_histogram(aes(x=LOG_INCTOT), bins = 4) +
facet_wrap(~ SEX_LABEL)
ggplot(data = outliers_rm) +
geom_histogram(aes(x=LOG_INCTOT), bins = 4) +
facet_wrap(~ RACE_HL)
ggplot(data = outliers_rm) +
geom_histogram(aes(x=LOG_INCTOT), bins = 4) +
facet_wrap(~ SEX_LABEL)
cps <- dummy_cols(outliers_rm, select_columns = 'RACE_LABEL', remove_selected_columns = TRUE)
head(cps)
summary(cps)
cps_no_year <- cps %>% select(-'YEAR')
head(cps_no_year)
cps_full <- lm(LOG_INCTOT ~ ., data = cps)
summary(cps_full)
cps_mod <- lm(LOG_INCTOT ~ RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black
, data = cps)
summary(cps_mod)
plot_model(cps_mod, type="pred", terms = c("RACE", "SEX"))
plot_model(cps_mod, type="pred", terms = c("AGE", "SEX"))
plot_model(cps_mod, type="pred", terms = c("AGE", "RACE"))
cps_mod_w_time <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black
, data = cps)
summary(cps_mod_w_time)
cps_mod_int_r <- lm(LOG_INCTOT ~ RACE * AGE * SEX, data = cps)
summary(cps_mod_int_r)
plot_model(cps_mod_int_r, type="pred", terms = c("SEX", "RACE", "AGE"))
cps_mod_comp <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX) + (AGE * SEX) + (YEAR * AGE * SEX)
, data = cps)
summary(cps_mod_comp)
cps_mod_final <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = cps)
summary(cps_mod_final)
stargazer(cps_full,
cps_mod,
cps_mod_w_time,
cps_mod_final,
title="Displaying results for multiple response variables",
type = "text",
float = FALSE,
report = "vcs*",
no.space = FALSE,
header=FALSE,
font.size = "small",
intercept.bottom = F,
column.labels = c("Full model", "Reduced without", "Reduced with Time", "Reduced with Time and interaction"),
column.separate = c(1, 1, 1, 1),
digits = 4,
t.auto = F,
p.auto = F,
notes.align = "l",
notes = c("lm() function with Robust SE"),
notes.append = TRUE
)
vif(cps_mod_final, type = 'predictor' )
coeftest(cps_mod_final)
anova(cps_mod_final)
bptest(cps_mod_final, ~ fitted(cps_mod_final) + I(fitted(cps_mod_final)^2) )
u <- resid(cps_mod_final)
logu2 <- log(u^2)
varreg<-lm(logu2 ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data=cps)
# summary(varreg)
w <- 1/exp(fitted(varreg))
fgls <- lm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = cps, weight=w)
# summary(fgls)
stargazer(varreg, fgls, type="text")
tsdata <- ts(cps, start = 2000)
res <- dynlm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX)
, data = tsdata)
# summary(res)
res_trend <- dynlm(LOG_INCTOT ~ YEAR + RACE + AGE + SEX + INCTOT + RACE_HL +
`RACE_LABEL_American Indian/Aleut/Eskimo` + `RACE_LABEL_Asian only` +
`RACE_LABEL_Asian or Pacific Islander` + `RACE_LABEL_Black-Mixed` +
RACE_LABEL_Black + (YEAR * RACE) + (YEAR  * AGE) + (YEAR * SEX) +
trend(tsdata), data = tsdata)
# summary(res_trend)
stargazer(res,res_trend, type="text")
linearHypothesis(res, matchCoefs(res, c("SEX","RACE")))
b <- coef(res)
b["SEX"] + b["RACE"] + b["`RACE_LABEL_American Indian/Aleut/Eskimo`"] + b["`RACE_LABEL_Asian only`"] +
+ b["`RACE_LABEL_Asian or Pacific Islander`"] + b["RACE_LABEL_Black"] + b["`RACE_LABEL_Black-Mixed`"] + b["YEAR:RACE"] +
b["YEAR:AGE"] + b["YEAR:SEX"]
library(readxl)
library(strucchange) # for chow test
library(quantreg) # for LAD regression (rq)
library(stargazer)
library(L1pack) # more LAD regression (lad)
library(plyr)
library(reshape2)
library(ggplot2)
library(ggrepel) # https://www.statology.org/label-scatterplot-points-r/
library(car)
library(sandwich)
library(tinytex)
library(rjson)
library(censusapi)
library(dplyr)
library(devtools)
library(blsAPI)
library(car)
library(dynlm)
library(lmtest)
library(jtools)
library(sjPlot) # https://cran.r-project.org/web/packages/sjPlot/vignettes/plot_interactions.html
library(sjmisc) # https://cran.r-project.org/web/packages/sjPlot/vignettes/plot_interactions.html
library(fastDummies)
library(corrplot)
library(RColorBrewer)
library(ggstatsplot)
library (BSDA)
outliers_rm %>%
group_by(RACE_HL) %>%
summarize(min_inctot = exp(min(LOG_INCTOT)), max_inctot = exp(max(LOG_INCTOT)), med_inctot = exp(median(LOG_INCTOT)),
mean_inctot = exp(mean(LOG_INCTOT)),  var_inctot = exp(std(LOG_INCTOT))
)
outliers_rm %>%
group_by(RACE_HL) %>%
summarize(min_inctot = exp(min(LOG_INCTOT)), max_inctot = exp(max(LOG_INCTOT)), med_inctot = exp(median(LOG_INCTOT)),
mean_inctot = exp(mean(LOG_INCTOT)),  var_inctot = sqrt(exp(var(LOG_INCTOT)))
)
outliers_rm %>%
group_by(RACE_HL) %>%
summarize(min_inctot = exp(min(LOG_INCTOT)), max_inctot = exp(max(LOG_INCTOT)), med_inctot = exp(median(LOG_INCTOT)),
mean_inctot = exp(mean(LOG_INCTOT)),  std_inctot = sqrt(exp(var(LOG_INCTOT)))
)
outliers_rm %>%
group_by(RACE_HL) %>%
summarize(min_inctot = exp(min(LOG_INCTOT)), max_inctot = exp(max(LOG_INCTOT)), med_inctot = exp(median(LOG_INCTOT)),
mean_inctot = exp(mean(LOG_INCTOT)),  std_inctot = exp(sd(LOG_INCTOT))
)
outliers_rm %>%
group_by(RACE_HL) %>%
summarize(min_inctot = exp(min(LOG_INCTOT)), max_inctot = exp(max(LOG_INCTOT)), med_inctot = exp(median(LOG_INCTOT)),
mean_inctot = exp(mean(LOG_INCTOT)),  sd_inctot = exp(sd(LOG_INCTOT))
)
library(BSDA)
z.test(x=w_df$LOG_INCTOT, y=nw_df$LOG_INCTOT, sigma.x=sd(w_df$LOG_INCTOT), sigma.y = sd(nw_df$LOG_INCTOT))
